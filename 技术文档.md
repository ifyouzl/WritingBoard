# ğŸ”¬ WritingBoard æŠ€æœ¯æ–‡æ¡£

## ç›®å½•

1. [å®ç°æµç¨‹è¯¦è§£](#å®ç°æµç¨‹è¯¦è§£)
2. [æŠ€æœ¯éš¾ç‚¹ä¸è§£å†³æ–¹æ¡ˆ](#æŠ€æœ¯éš¾ç‚¹ä¸è§£å†³æ–¹æ¡ˆ)
3. [ä»£ç ç»„ç»‡ä¸æœ€ä½³å®è·µ](#ä»£ç ç»„ç»‡ä¸æœ€ä½³å®è·µ)
4. [æ€§èƒ½ä¼˜åŒ–](#æ€§èƒ½ä¼˜åŒ–)
5. [å®‰å…¨æ€§è€ƒè™‘](#å®‰å…¨æ€§è€ƒè™‘)

---

## å®ç°æµç¨‹è¯¦è§£

### é˜¶æ®µ1ï¼šé¡¹ç›®åˆå§‹åŒ–ï¼ˆç¬¬1å¤©ï¼‰

#### 1.1 åˆ›å»ºé¡¹ç›®ç»“æ„

```bash
mkdir WritingBoard
cd WritingBoard
npm init -y
```

#### 1.2 å®‰è£…æ ¸å¿ƒä¾èµ–

```bash
# Electron æ¡†æ¶
npm install --save-dev electron electron-builder

# React æ¡†æ¶
npm install react react-dom
npm install --save-dev @types/react @types/react-dom

# TypeScript
npm install --save-dev typescript ts-loader

# Webpack
npm install --save-dev webpack webpack-cli webpack-dev-server
npm install --save-dev html-webpack-plugin css-loader style-loader
```

#### 1.3 é…ç½®æ–‡ä»¶

åˆ›å»º `tsconfig.json`ã€`webpack.renderer.config.js`ã€`package.json` ç­‰é…ç½®æ–‡ä»¶ã€‚

---

### é˜¶æ®µ2ï¼šä¸»è¿›ç¨‹å¼€å‘ï¼ˆç¬¬2å¤©ï¼‰

#### 2.1 åˆ›å»ºä¸»è¿›ç¨‹å…¥å£

**æ–‡ä»¶ï¼š** `src/main/main.ts`

**æ ¸å¿ƒåŠŸèƒ½å®ç°ï¼š**

```typescript
// 1. å¯¼å…¥å¿…è¦æ¨¡å—
import { app, BrowserWindow, ipcMain } from 'electron';
import * as path from 'path';
import * as fs from 'fs';

// 2. è®¾ç½®Dç›˜æ•°æ®è·¯å¾„
const customDataPath = 'D:\\WritingBoard\\Data';
app.setPath('userData', customDataPath);

// 3. åˆ›å»ºçª—å£
function createWindow() {
  mainWindow = new BrowserWindow({
    width: 400,
    height: 600,
    webPreferences: {
      nodeIntegration: false,    // å®‰å…¨ï¼šç¦ç”¨Nodeé›†æˆ
      contextIsolation: true,    // å®‰å…¨ï¼šå¯ç”¨ä¸Šä¸‹æ–‡éš”ç¦»
      preload: path.join(__dirname, 'preload.js')
    }
  });
}

// 4. åº”ç”¨ç”Ÿå‘½å‘¨æœŸ
app.whenReady().then(createWindow);
```

**å…³é”®ç‚¹ï¼š**
- âœ… ä½¿ç”¨ `app.setPath` è®¾ç½®è‡ªå®šä¹‰æ•°æ®è·¯å¾„
- âœ… é…ç½®å®‰å…¨çš„ webPreferences
- âœ… é¢„åŠ è½½è„šæœ¬éš”ç¦»ä¸»è¿›ç¨‹å’Œæ¸²æŸ“è¿›ç¨‹

#### 2.2 å®ç°æ–‡ä»¶æ“ä½œ

```typescript
// ä¿å­˜æ•°æ®åˆ°æ–‡ä»¶
ipcMain.handle('save-data', async (event, data) => {
  try {
    const dataPath = path.join(customDataPath, 'writingboard-data.json');
    fs.writeFileSync(dataPath, JSON.stringify(data, null, 2));
    return { success: true };
  } catch (error) {
    return { success: false, error: String(error) };
  }
});

// ä»æ–‡ä»¶åŠ è½½æ•°æ®
ipcMain.handle('load-data', async () => {
  try {
    const dataPath = path.join(customDataPath, 'writingboard-data.json');
    if (fs.existsSync(dataPath)) {
      const data = fs.readFileSync(dataPath, 'utf-8');
      return JSON.parse(data);
    }
    return { todos: [], notes: [], quickNote: '' };
  } catch (error) {
    return { todos: [], notes: [], quickNote: '' };
  }
});
```

**å…³é”®ç‚¹ï¼š**
- âœ… ä½¿ç”¨ `ipcMain.handle` å¤„ç†å¼‚æ­¥æ“ä½œ
- âœ… é”™è¯¯å¤„ç†å’Œé»˜è®¤å€¼
- âœ… JSON æ ¼å¼åŒ–å­˜å‚¨ï¼ˆä¾¿äºè°ƒè¯•ï¼‰

#### 2.3 å®ç°å°ç»„ä»¶çª—å£

```typescript
function createWidgetWindow() {
  widgetWindow = new BrowserWindow({
    width: 280,
    height: 400,
    frame: false,        // æ— è¾¹æ¡†
    transparent: true,   // é€æ˜èƒŒæ™¯
    alwaysOnTop: true,  // å§‹ç»ˆåœ¨æœ€å‰
    skipTaskbar: true   // ä¸æ˜¾ç¤ºåœ¨ä»»åŠ¡æ 
  });
}

// åˆ‡æ¢åˆ°å°ç»„ä»¶æ¨¡å¼
ipcMain.handle('toggle-widget', async (event, show) => {
  if (show) {
    createWidgetWindow();
    mainWindow.hide();  // éšè—ä¸»çª—å£
  } else {
    widgetWindow.close();
    mainWindow.show();  // æ˜¾ç¤ºä¸»çª—å£
  }
});
```

**å…³é”®ç‚¹ï¼š**
- âœ… æ— è¾¹æ¡†è®¾è®¡
- âœ… çª—å£åˆ‡æ¢é€»è¾‘
- âœ… ä¿æŒåœ¨æœ€å‰ç«¯

---

### é˜¶æ®µ3ï¼šé¢„åŠ è½½è„šæœ¬ï¼ˆç¬¬2å¤©ï¼‰

#### 3.1 åˆ›å»ºå®‰å…¨æ¡¥æ¢

**æ–‡ä»¶ï¼š** `src/main/preload.ts`

```typescript
import { contextBridge, ipcRenderer } from 'electron';

// æš´éœ²å®‰å…¨çš„APIç»™æ¸²æŸ“è¿›ç¨‹
contextBridge.exposeInMainWorld('electronAPI', {
  // æ•°æ®æ“ä½œ
  saveData: (data: any) => ipcRenderer.invoke('save-data', data),
  loadData: () => ipcRenderer.invoke('load-data'),
  
  // çª—å£æ“ä½œ
  toggleWidget: (show: boolean) => ipcRenderer.invoke('toggle-widget', show),
  restoreMainWindow: () => ipcRenderer.invoke('restore-main-window'),
  
  // æ•°æ®ç›‘å¬ï¼ˆå°ç»„ä»¶ç”¨ï¼‰
  onDataUpdate: (callback: (data: any) => void) => {
    const subscription = (event: any, data: any) => callback(data);
    ipcRenderer.on('data-update', subscription);
    return () => ipcRenderer.removeListener('data-update', subscription);
  }
});
```

**å®‰å…¨æ€§è€ƒè™‘ï¼š**
- âœ… åªæš´éœ²å¿…è¦çš„API
- âœ… ä½¿ç”¨ç™½åå•æ–¹å¼
- âœ… ä¸ç›´æ¥æš´éœ² `ipcRenderer`

#### 3.2 TypeScript ç±»å‹å®šä¹‰

**æ–‡ä»¶ï¼š** `src/renderer/types/global.d.ts`

```typescript
interface ElectronAPI {
  saveData: (data: any) => Promise<{ success: boolean }>;
  loadData: () => Promise<any>;
  toggleWidget: (show: boolean) => Promise<{ success: boolean }>;
  restoreMainWindow: () => Promise<{ success: boolean }>;
  onDataUpdate: (callback: (data: any) => void) => () => void;
}

interface Window {
  electronAPI: ElectronAPI;
}
```

**å¥½å¤„ï¼š**
- âœ… TypeScript ç±»å‹æ£€æŸ¥
- âœ… æ™ºèƒ½æç¤º
- âœ… ç¼–è¯‘æ—¶é”™è¯¯æ£€æŸ¥

---

### é˜¶æ®µ4ï¼šæ¸²æŸ“è¿›ç¨‹å¼€å‘ï¼ˆç¬¬3-4å¤©ï¼‰

#### 4.1 åº”ç”¨ä¸»ç»„ä»¶

**æ–‡ä»¶ï¼š** `src/renderer/App.tsx`

**çŠ¶æ€ç®¡ç†ï¼š**

```typescript
const App: React.FC = () => {
  // çŠ¶æ€å®šä¹‰
  const [activeTab, setActiveTab] = useState<'quick' | 'todos' | 'notes'>('quick');
  const [todos, setTodos] = useState<Todo[]>([]);
  const [notes, setNotes] = useState<Note[]>([]);
  const [quickNoteText, setQuickNoteText] = useState<string>('');
  
  // åˆå§‹åŠ è½½
  useEffect(() => {
    loadData();
  }, []);
  
  // è‡ªåŠ¨ä¿å­˜
  useEffect(() => {
    if (!isInitialLoad) {
      saveData();
    }
  }, [todos, notes, quickNoteText]);
};
```

**æ•°æ®æµï¼š**
```
ç”¨æˆ·æ“ä½œ
  â†“
setState (React)
  â†“
useEffect æ£€æµ‹åˆ°å˜åŒ–
  â†“
è°ƒç”¨ electronAPI.saveData()
  â†“
ä¸»è¿›ç¨‹ä¿å­˜åˆ°æ–‡ä»¶
```

#### 4.2 å¿«é€Ÿç¬”è®°ç»„ä»¶

**æ–‡ä»¶ï¼š** `src/renderer/components/QuickNote.tsx`

```typescript
const QuickNote: React.FC<QuickNoteProps> = ({ text, onChange }) => {
  return (
    <div className="quick-note">
      <textarea
        value={text}
        onChange={(e) => onChange(e.target.value)}
        placeholder="åœ¨è¿™é‡Œè¾“å…¥..."
      />
      <div className="footer">
        <span>{text.length} å­—ç¬¦</span>
        <span>âœ“ è‡ªåŠ¨ä¿å­˜</span>
      </div>
    </div>
  );
};
```

**è®¾è®¡æ€è·¯ï¼š**
- å—æ§ç»„ä»¶ï¼ˆvalue + onChangeï¼‰
- å®æ—¶å­—ç¬¦è®¡æ•°
- è‡ªåŠ¨ä¿å­˜æç¤º

#### 4.3 å¾…åŠåˆ—è¡¨ç»„ä»¶

**æ–‡ä»¶ï¼š** `src/renderer/components/TodoList.tsx`

```typescript
const TodoList: React.FC<TodoListProps> = ({ todos, onAdd, onToggle, onDelete }) => {
  const [inputValue, setInputValue] = useState('');
  
  const handleAdd = () => {
    if (inputValue.trim()) {
      onAdd(inputValue);
      setInputValue('');
    }
  };
  
  return (
    <div className="todo-list">
      {/* è¾“å…¥æ¡† */}
      <div className="todo-input">
        <input
          value={inputValue}
          onChange={(e) => setInputValue(e.target.value)}
          onKeyPress={(e) => e.key === 'Enter' && handleAdd()}
        />
        <button onClick={handleAdd}>æ·»åŠ </button>
      </div>
      
      {/* ä»»åŠ¡åˆ—è¡¨ */}
      {todos.map(todo => (
        <div key={todo.id} className={`todo-item ${todo.completed ? 'completed' : ''}`}>
          <input
            type="checkbox"
            checked={todo.completed}
            onChange={() => onToggle(todo.id)}
          />
          <span>{todo.text}</span>
          <button onClick={() => onDelete(todo.id)}>Ã—</button>
        </div>
      ))}
    </div>
  );
};
```

**äº¤äº’è®¾è®¡ï¼š**
- Enter é”®å¿«é€Ÿæ·»åŠ 
- å¤é€‰æ¡†åˆ‡æ¢çŠ¶æ€
- åˆ é™¤æŒ‰é’®

#### 4.4 ä¾¿ç­¾ç»„ä»¶

**æ–‡ä»¶ï¼š** `src/renderer/components/NotesList.tsx`

```typescript
const NotesList: React.FC<NotesListProps> = ({ notes, onAdd, onUpdate, onDelete }) => {
  const colors = ['#fff59d', '#f8bbd0', '#b3e5fc', '#c8e6c9', '#ffe0b2', '#e1bee7'];
  
  const [editingNote, setEditingNote] = useState<Note | null>(null);
  
  return (
    <div className="notes-list">
      {/* æ–°å»ºæŒ‰é’® */}
      <button onClick={() => setEditingNote(newNote)}>+ æ–°å»ºä¾¿ç­¾</button>
      
      {/* ä¾¿ç­¾ç½‘æ ¼ */}
      <div className="notes-grid">
        {notes.map(note => (
          <div key={note.id} className="note-card" style={{ background: note.color }}>
            <h3>{note.title}</h3>
            <p>{note.content}</p>
            <button onClick={() => onDelete(note.id)}>Ã—</button>
          </div>
        ))}
      </div>
      
      {/* ç¼–è¾‘å¯¹è¯æ¡† */}
      {editingNote && (
        <NoteEditor
          note={editingNote}
          colors={colors}
          onSave={(title, content, color) => {
            editingNote.id ? onUpdate(...) : onAdd(...);
            setEditingNote(null);
          }}
          onCancel={() => setEditingNote(null)}
        />
      )}
    </div>
  );
};
```

**åŠŸèƒ½ç‰¹ç‚¹ï¼š**
- å¡ç‰‡å¼å¸ƒå±€
- é¢œè‰²é€‰æ‹©
- ç¼–è¾‘å¯¹è¯æ¡†

#### 4.5 å°ç»„ä»¶ç»„ä»¶

**æ–‡ä»¶ï¼š** `src/renderer/components/Widget.tsx`

```typescript
const Widget: React.FC<WidgetProps> = ({ todos, onToggle, onRestore }) => {
  return (
    <div className="widget">
      <div className="widget-header">
        <span>ğŸ“ å¾…åŠäº‹é¡¹</span>
        <button onClick={onRestore}>âœ•</button>
      </div>
      
      <div className="widget-content">
        {todos.filter(t => !t.completed).map(todo => (
          <div key={todo.id} className="widget-todo">
            <input
              type="checkbox"
              onChange={() => onToggle(todo.id)}
            />
            <span>{todo.text}</span>
          </div>
        ))}
      </div>
    </div>
  );
};
```

**è®¾è®¡ç‰¹ç‚¹ï¼š**
- åªæ˜¾ç¤ºæœªå®Œæˆä»»åŠ¡
- ç´§å‡‘å¸ƒå±€
- å¿«é€Ÿæ“ä½œ

---

### é˜¶æ®µ5ï¼šæ ·å¼è®¾è®¡ï¼ˆç¬¬5å¤©ï¼‰

#### 5.1 å…¨å±€æ ·å¼

**æ–‡ä»¶ï¼š** `src/renderer/styles/global.css`

```css
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background: #f5f5f5;
  color: #333;
}

/* æ»šåŠ¨æ¡ç¾åŒ– */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-thumb {
  background: #ccc;
  border-radius: 4px;
}
```

#### 5.2 ç»„ä»¶æ ·å¼

æ¯ä¸ªç»„ä»¶éƒ½æœ‰ç‹¬ç«‹çš„ CSS æ–‡ä»¶ï¼š
- `QuickNote.css` - å¿«é€Ÿç¬”è®°
- `TodoList.css` - å¾…åŠåˆ—è¡¨
- `NotesList.css` - ä¾¿ç­¾
- `Widget.css` - å°ç»„ä»¶
- `App.css` - åº”ç”¨ä¸»æ ·å¼

**è®¾è®¡åŸåˆ™ï¼š**
- ç»„ä»¶åŒ–æ ·å¼
- BEM å‘½åè§„èŒƒ
- å“åº”å¼è®¾è®¡

---

### é˜¶æ®µ6ï¼šæ„å»ºé…ç½®ï¼ˆç¬¬6å¤©ï¼‰

#### 6.1 Webpack é…ç½®

**æ–‡ä»¶ï¼š** `webpack.renderer.config.js`

```javascript
const HtmlWebpackPlugin = require('html-webpack-plugin');
const path = require('path');

module.exports = {
  entry: './src/renderer/index.tsx',
  
  output: {
    path: path.join(__dirname, 'dist/renderer'),
    filename: 'bundle.js'
  },
  
  module: {
    rules: [
      {
        test: /\.tsx?$/,
        use: 'ts-loader',
        exclude: /node_modules/
      },
      {
        test: /\.css$/,
        use: ['style-loader', 'css-loader']
      }
    ]
  },
  
  plugins: [
    new HtmlWebpackPlugin({
      template: './src/renderer/index.html'
    })
  ],
  
  devServer: {
    port: 3000,
    hot: true
  }
};
```

#### 6.2 TypeScript é…ç½®

**ä¸»è¿›ç¨‹ï¼š** `tsconfig.main.json`
```json
{
  "extends": "./tsconfig.json",
  "compilerOptions": {
    "module": "commonjs",
    "outDir": "./dist"
  },
  "include": ["src/main/**/*"]
}
```

**æ¸²æŸ“è¿›ç¨‹ï¼š** `tsconfig.json`
```json
{
  "compilerOptions": {
    "target": "ES2020",
    "module": "esnext",
    "jsx": "react",
    "moduleResolution": "node",
    "strict": true
  },
  "include": ["src/renderer/**/*"]
}
```

---

### é˜¶æ®µ7ï¼šæ‰“åŒ…å‘å¸ƒï¼ˆç¬¬7å¤©ï¼‰

#### 7.1 Electron Builder é…ç½®

**package.json:**
```json
{
  "build": {
    "appId": "com.writingboard.app",
    "productName": "WritingBoard",
    "directories": {
      "output": "D:\\WritingBoard\\Release"
    },
    "files": [
      "dist/**/*",
      "package.json"
    ],
    "win": {
      "target": ["nsis", "portable"]
    },
    "nsis": {
      "oneClick": false,
      "allowToChangeInstallationDirectory": true
    }
  }
}
```

#### 7.2 æ‰“åŒ…è„šæœ¬

**æ–‡ä»¶ï¼š** `Dç›˜æ‰“åŒ….bat`

```batch
@echo off
cd /d "%~dp0"

echo [1/7] è®¾ç½®ç¯å¢ƒå˜é‡...
set ELECTRON_BUILDER_CACHE=D:\WritingBoard\BuildCache\electron-builder
set ELECTRON_CACHE=D:\WritingBoard\BuildCache\electron

echo [2/7] åˆ›å»ºç›®å½•...
if not exist "D:\WritingBoard\Data" mkdir "D:\WritingBoard\Data"

echo [3/7] åœæ­¢è¿›ç¨‹...
taskkill /F /IM WritingBoard.exe 2>nul

echo [4/7] æ¸…ç†æ—§æ–‡ä»¶...
if exist "dist" rmdir /S /Q "dist"

echo [5/7] ç¼–è¯‘...
call npm run build

echo [6/7] æ‰“åŒ…...
call npm run package

echo [7/7] å®Œæˆï¼
explorer "D:\WritingBoard\Release"
pause
```

---

## æŠ€æœ¯éš¾ç‚¹ä¸è§£å†³æ–¹æ¡ˆ

### éš¾ç‚¹1ï¼šElectron å®‰å…¨æ€§

**é—®é¢˜ï¼š** æ¸²æŸ“è¿›ç¨‹ä¸èƒ½ç›´æ¥è®¿é—® Node.js API

**è§£å†³ï¼š**
- å¯ç”¨ `contextIsolation`
- ç¦ç”¨ `nodeIntegration`
- ä½¿ç”¨ preload è„šæœ¬ä½œä¸ºæ¡¥æ¢

### éš¾ç‚¹2ï¼šæ•°æ®æŒä¹…åŒ–

**é—®é¢˜ï¼š** å¦‚ä½•å¯é åœ°ä¿å­˜æ•°æ®

**è§£å†³ï¼š**
- ä½¿ç”¨ JSON æ–‡ä»¶å­˜å‚¨
- è‡ªåŠ¨ä¿å­˜æœºåˆ¶
- é”™è¯¯å¤„ç†å’Œé»˜è®¤å€¼

### éš¾ç‚¹3ï¼šçª—å£ç®¡ç†

**é—®é¢˜ï¼š** ä¸»çª—å£å’Œå°ç»„ä»¶çª—å£åˆ‡æ¢

**è§£å†³ï¼š**
- ä½¿ç”¨ `hide()`/`show()` è€Œä¸æ˜¯ `close()`
- æ•°æ®åŒæ­¥é€šè¿‡ IPC é€šä¿¡
- å°ç»„ä»¶ç›‘å¬æ•°æ®æ›´æ–°

### éš¾ç‚¹4ï¼šæ‰“åŒ…è·¯å¾„

**é—®é¢˜ï¼š** æ‰¹å¤„ç†è„šæœ¬åœ¨é”™è¯¯ç›®å½•è¿è¡Œ

**è§£å†³ï¼š**
- ä½¿ç”¨ `cd /d "%~dp0"` åˆ‡æ¢åˆ°è„šæœ¬ç›®å½•
- ç»Ÿä¸€ä½¿ç”¨ Dç›˜è·¯å¾„
- ç¯å¢ƒå˜é‡è®¾ç½®

---

## ä»£ç ç»„ç»‡ä¸æœ€ä½³å®è·µ

### 1. æ–‡ä»¶ç»„ç»‡

```
æŒ‰åŠŸèƒ½åˆ†å±‚ï¼š
- main/ - ä¸»è¿›ç¨‹
- renderer/ - æ¸²æŸ“è¿›ç¨‹
  - components/ - React ç»„ä»¶
  - styles/ - æ ·å¼æ–‡ä»¶
  - types/ - ç±»å‹å®šä¹‰
```

### 2. å‘½åè§„èŒƒ

- **ç»„ä»¶ï¼š** PascalCaseï¼ˆQuickNote.tsxï¼‰
- **å‡½æ•°ï¼š** camelCaseï¼ˆsaveDataï¼‰
- **å¸¸é‡ï¼š** UPPER_SNAKE_CASEï¼ˆMAX_LENGTHï¼‰
- **CSSç±»ï¼š** kebab-caseï¼ˆ.quick-noteï¼‰

### 3. TypeScript ä½¿ç”¨

```typescript
// å®šä¹‰æ¥å£
interface Todo {
  id: string;
  text: string;
  completed: boolean;
  createdAt: number;
}

// ç±»å‹æ³¨è§£
const addTodo = (text: string): void => {
  // ...
}

// æ³›å‹ä½¿ç”¨
const [todos, setTodos] = useState<Todo[]>([]);
```

---

## æ€§èƒ½ä¼˜åŒ–

### 1. React ä¼˜åŒ–

```typescript
// ä½¿ç”¨ React.memo é¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“
const TodoItem = React.memo(({ todo, onToggle, onDelete }) => {
  return (
    <div className="todo-item">
      {/* ... */}
    </div>
  );
});
```

### 2. æ•°æ®ä¿å­˜èŠ‚æµ

```typescript
// é¿å…é¢‘ç¹ä¿å­˜
const debouncedSave = debounce(() => {
  saveData();
}, 500);

useEffect(() => {
  debouncedSave();
}, [todos, notes]);
```

### 3. Webpack ä¼˜åŒ–

```javascript
// ç”Ÿäº§æ¨¡å¼å‹ç¼©
mode: 'production',
optimization: {
  minimize: true
}
```

---

## å®‰å…¨æ€§è€ƒè™‘

### 1. æ¸²æŸ“è¿›ç¨‹éš”ç¦»

```typescript
webPreferences: {
  nodeIntegration: false,     // ç¦ç”¨ Node é›†æˆ
  contextIsolation: true,     // å¯ç”¨ä¸Šä¸‹æ–‡éš”ç¦»
  sandbox: true               // å¯ç”¨æ²™ç®±
}
```

### 2. CSP (å†…å®¹å®‰å…¨ç­–ç•¥)

```html
<meta http-equiv="Content-Security-Policy" 
      content="default-src 'self'; script-src 'self'">
```

### 3. è¾“å…¥éªŒè¯

```typescript
// éªŒè¯ç”¨æˆ·è¾“å…¥
const addTodo = (text: string) => {
  if (!text || text.trim().length === 0) {
    return; // æ‹’ç»ç©ºè¾“å…¥
  }
  if (text.length > 500) {
    return; // æ‹’ç»è¿‡é•¿è¾“å…¥
  }
  // ç»§ç»­å¤„ç†...
};
```

---

## æ€»ç»“

è¿™ä¸ªé¡¹ç›®å±•ç¤ºäº† Electron æ¡Œé¢åº”ç”¨å¼€å‘çš„å®Œæ•´æµç¨‹ï¼š

1. **æ¶æ„è®¾è®¡** - ä¸»è¿›ç¨‹ + æ¸²æŸ“è¿›ç¨‹
2. **å®‰å…¨é€šä¿¡** - é¢„åŠ è½½è„šæœ¬ + IPC
3. **UIå¼€å‘** - React ç»„ä»¶åŒ–
4. **æ•°æ®æŒä¹…åŒ–** - JSON æ–‡ä»¶å­˜å‚¨
5. **æ‰“åŒ…å‘å¸ƒ** - Electron Builder

**é€‚åˆå­¦ä¹ è€…çš„åŸå› ï¼š**
- âœ… ä»£ç ç»“æ„æ¸…æ™°
- âœ… åŠŸèƒ½å®Œæ•´ä½†ä¸å¤æ‚
- âœ… æŠ€æœ¯æ ˆç°ä»£åŒ–
- âœ… æœ‰å®é™…åº”ç”¨ä»·å€¼

**ä¸‹ä¸€æ­¥å­¦ä¹ å»ºè®®ï¼š**
1. å°è¯•æ·»åŠ æ–°åŠŸèƒ½ï¼ˆå¦‚æœç´¢ã€æ ‡ç­¾ï¼‰
2. å­¦ä¹ çŠ¶æ€ç®¡ç†ï¼ˆReduxã€MobXï¼‰
3. æ¢ç´¢ Electron è¿›é˜¶åŠŸèƒ½ï¼ˆç³»ç»Ÿæ‰˜ç›˜ã€å…¨å±€å¿«æ·é”®ï¼‰
4. äº†è§£åº”ç”¨æ›´æ–°æœºåˆ¶ï¼ˆelectron-updaterï¼‰

---

**æœ€åæ›´æ–°ï¼š** 2025å¹´10æœˆ

